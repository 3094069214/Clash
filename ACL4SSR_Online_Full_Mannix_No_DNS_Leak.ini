[custom]

# ========== åŸºç¡€è®¾ç½® ==========
# æ’é™¤åŒ…å«è¿™äº›å…³é”®è¯çš„èŠ‚ç‚¹
exclude_remarks=(Data Left|Remain:|Traffic:|Expir[ey]|Reset|(\d[\d.]*\s*[MG]B[^\dA-Za-z]+|[:ï¼š]\s*)\d[\d.]*\s*GB(?![\dA-Za-z])|å‰©[ä½™é¤˜]æµé‡|æµé‡ï¼š|[åˆ°è¿‡éæ•ˆ]æœŸ|[æ—¶æ™‚][é—´é–“]|é‡ç½®|åˆ†å‰²çº¿|æ®‹ã‚Šä½¿ç”¨å®¹é‡|æœ‰åŠ¹æœŸé™|ãƒªã‚»ãƒƒãƒˆ|ğŸ”° (ID|HSD|SNI):|ğŸ“ GÃ³i:)

# Emoji è®¾ç½®
add_emoji=true
remove_old_emoji=true
emoji=(?!ğŸ‡¨ğŸ‡³)[ğŸ‡¦-ğŸ‡¿]{2},
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(ç¾å›½|åç››é¡¿|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ—§é‡‘å±±|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|çº½çº¦|ä¸¹ä½›|åŠ åˆ©ç¦å°¼äºš|å¼—å‰å°¼äºš|å¾—å…‹è¨æ–¯|äºšç‰¹å…°å¤§|ä½›ç½—é‡Œè¾¾|è¿ˆé˜¿å¯†|US|USA|United States|Washington|Portland|Dallas|Oregon|Phoenix|Fremont|Silicon Valley|San Francisco|Las Vegas|Los Angeles|San Jose|Santa Clara|Seattle|Chicago|New York|Denver|California|Virginia|Texas|Atlanta|Florida|Miami),ğŸ‡ºğŸ‡¸
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(é¦™æ¸¯|HK|Hong Kong),ğŸ‡­ğŸ‡°
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|åå¤å±‹|åŸ¼ç‰|ç¦å†ˆ|JP|Japan|Tokyo|Osaka|Nagoya|Saitama|Fukuoka),ğŸ‡¯ğŸ‡µ
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(æ–°åŠ å¡|ç‹®åŸ|SG|Singapore),ğŸ‡¸ğŸ‡¬
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(å°æ¹¾|å°åŒ—|æ–°åŒ—|å½°åŒ–|é«˜é›„|TW|Taiwan|Taipei|New Taipei|Changhua|Kaohsiung),ğŸ‡¹ğŸ‡¼
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(è‹±å›½|è‹±æ ¼å…°|ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|UK|United Kingdom|England|London|Manchester),ğŸ‡¬ğŸ‡§
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(åŠ æ‹¿å¤§|å¤šä¼¦å¤š|è’™ç‰¹åˆ©å°”|æ¸©å“¥å|CA|Canada|Toronto|Montreal|Vancouver),ğŸ‡¨ğŸ‡¦
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(å¾·å›½|æ³•å…°å…‹ç¦|æŸæ—|DE|Germany|Frankfurt|Berlin),ğŸ‡©ğŸ‡ª
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(æ³•å›½|å·´é»|FR|France|Paris),ğŸ‡«ğŸ‡·
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(éŸ©å›½|é¦–å°”|KR|Korea|South Korea|Seoul),ğŸ‡°ğŸ‡·
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(æ¾³å¤§åˆ©äºš|æ‚‰å°¼|å¢¨å°”æœ¬|AU|Australia|Sydney|Melbourne),ğŸ‡¦ğŸ‡º
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(ä¿„ç½—æ–¯|è«æ–¯ç§‘|åœ£å½¼å¾—å ¡|RU|Russia|Moscow|Saint Petersburg),ğŸ‡·ğŸ‡º
emoji=^(?!.*[ğŸ‡¦-ğŸ‡¿]{2}).*(ä¸­å›½|æ·±åœ³|åŒ—äº¬|ä¸Šæµ·|å¹¿ä¸œ|å±±ä¸œ|æ¹–åŒ—|æ¹–å—|å¤©æ´¥|é‡åº†|è¾½å®|å‰æ—|é»‘é¾™æ±Ÿ|æ±Ÿè‹|æµ™æ±Ÿ|å®‰å¾½|ç¦å»º|äº‘å—|å››å·|é™•è¥¿|å±±è¥¿|ç”˜è‚ƒ|é’æµ·|å†…è’™å¤|è¥¿è—|å®å¤|æ–°ç–†|CN|China|Shenzhen|Beijing|Shanghai|Guangdong|Shandong|Hubei|Hunan|Tianjin|Chongqing|Liaoning|Jilin|Heilongjiang|Jiangsu|Zhejiang|Anhui|Fujian|Yunnan|Sichuan|Shaanxi|Shanxi|Gansu|Qinghai|Inner Mongolia|Tibet|Ningxia|Xinjiang),ğŸ‡¨ğŸ‡³
emoji=^(?!.*([ğŸ‡¦-ğŸ‡¿]{2}|â„¹ï¸)).*(å®˜.?ç½‘|å®˜æ–¹|äº§å“|å¹³å°|å‹¿è¿|ä¿®å¤|æ¢å¤|æ›´æ–°|åœ°å€|ç½‘ç«™|ç½‘å€|åŸŸå|ç½‘åŸŸ|æµè§ˆå™¨|å¯¼èˆª|æœ|ç¾¤|è£™|èŠ|é¢‘é“|ç”µæŠ¥|é£æœº|æ‰£|å¾®ä¿¡|å”®å|å®¢æœ|å·¥å•|è”ç³»|ä½¿ç”¨|è´­ä¹°|ç»­è´¹|è®¢é˜…|å…¬å‘Š|ç‰ˆæœ¬|å‡ºç°|æ²¡ç½‘|æƒ…å†µ|å¼€é€š|æ•°é‡|æ³¨|è¯´æ˜|é€šçŸ¥|å»é™¤|è¿‡æ»¤|@|ï¼š|(?i:(?<![\da-z])(tg|telegram|t\.me|qq?|vx?|wx)(?!\d*[a-z]|\d{1,3}(?!\d))|^[^:]+:(?![\da-f]{0,4}:|\s*\d{1,5}([/?]|\s*$)))),â„¹ï¸

enable_rule_generator=true
overwrite_original_rules=true

# ========== ä»£ç†åˆ†ç»„é…ç½® ==========
# ä¸»è¦ä»£ç†ç­–ç•¥
custom_proxy_group=ğŸš€èµ·é£`select`[]âš¡ä½å»¶è¿Ÿ`[]ğŸ‡­ğŸ‡°é¦™æ¸¯`[]ğŸ‡¸ğŸ‡¬æ–°åŠ å¡`[]ğŸ‡¯ğŸ‡µæ—¥æœ¬`[]ğŸ‡ºğŸ‡¸ç¾å›½`[]ğŸ‡¹ğŸ‡¼å°æ¹¾`[]ğŸŒå…¶ä»–`[]ğŸ‘†ğŸ»æŒ‡å®š`[]DIRECT`[]REJECT
custom_proxy_group=ğŸ‘†ğŸ»æŒ‡å®š`select`.*
custom_proxy_group=âš¡ä½å»¶è¿Ÿ`url-test`.*`https://www.gstatic.com/generate_204`180,,30
custom_proxy_group=ğŸ‡­ğŸ‡°é¦™æ¸¯`url-test`(?i)æ¸¯|hongkong|hk`https://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡¸ğŸ‡¬æ–°åŠ å¡`url-test`(?i)æ–°|ç‹®|ç…|singapore|sg`https://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡¯ğŸ‡µæ—¥æœ¬`url-test`(?i)æ—¥|japan|jp`https://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡ºğŸ‡¸ç¾å›½`url-test`(?i)ç¾|states|us`https://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡¹ğŸ‡¼å°æ¹¾`url-test`(?i)å°|taiwan|tw`https://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸŒå…¶ä»–`select`^(?!.*(æ¸¯|hongkong|hk|å°|taiwan|tw|æ–°|ç‹®|ç…|singapore|sg|æ—¥|japan|jp|ç¾|states|us)).*$

custom_proxy_group=ğŸ”GoogleæœåŠ¡`select`[]ğŸš€èµ·é£`[]ğŸ‡¸ğŸ‡¬æ–°åŠ å¡`[]ğŸ‡­ğŸ‡°é¦™æ¸¯`[]ğŸ‡ºğŸ‡¸ç¾å›½`[]ğŸ‡¯ğŸ‡µæ—¥æœ¬`[]ğŸ‡¹ğŸ‡¼å°æ¹¾`[]ğŸŒå…¶ä»–
custom_proxy_group=ğŸ’¬ç¤¾äº¤åª’ä½“`select`[]ğŸš€èµ·é£`[]ğŸ‡¸ğŸ‡¬æ–°åŠ å¡`[]ğŸ‡­ğŸ‡°é¦™æ¸¯`[]ğŸ‡ºğŸ‡¸ç¾å›½`[]ğŸ‡¯ğŸ‡µæ—¥æœ¬`[]ğŸ‡¹ğŸ‡¼å°æ¹¾`[]ğŸŒå…¶ä»–
custom_proxy_group=ğŸ“ºæµåª’ä½“`select`[]ğŸš€èµ·é£`[]ğŸ‡­ğŸ‡°é¦™æ¸¯`[]ğŸ‡¸ğŸ‡¬æ–°åŠ å¡`[]ğŸ‡¹ğŸ‡¼å°æ¹¾`[]ğŸ‡¯ğŸ‡µæ—¥æœ¬`[]ğŸ‡ºğŸ‡¸ç¾å›½`[]ğŸŒå…¶ä»–
custom_proxy_group=ğŸ¤–AI`select`[]ğŸ‡ºğŸ‡¸ç¾å›½`[]ğŸ‡¸ğŸ‡¬æ–°åŠ å¡`[]ğŸ‡¯ğŸ‡µæ—¥æœ¬`[]ğŸ‡¹ğŸ‡¼å°æ¹¾`[]ğŸš€èµ·é£

custom_proxy_group=ğŸ“±å¾®ä¿¡èŠå¤©`select`[]DIRECT`[]ğŸ‡¨ğŸ‡³å¢™å†…
custom_proxy_group=ğŸ“±çŸ­è§†é¢‘`select`[]DIRECT`[]ğŸ‡¨ğŸ‡³å¢™å†…
custom_proxy_group=ğŸ…±ï¸å“”å“©å“”å“©`select`[]DIRECT`[]ğŸ‡­ğŸ‡°é¦™æ¸¯`[]ğŸ‡¹ğŸ‡¼å°æ¹¾`[]ğŸ‡¨ğŸ‡³å¢™å†…`[]ğŸš€èµ·é£
custom_proxy_group=ğŸ“±æ–—é±¼ç›´æ’­`select`[]DIRECT`[]ğŸ‡¨ğŸ‡³å¢™å†…`[]ğŸš€èµ·é£
custom_proxy_group=ğŸ“±è™ç‰™ç›´æ’­`select`[]DIRECT`[]ğŸ‡¨ğŸ‡³å¢™å†…`[]ğŸš€èµ·é£
custom_proxy_group=ğŸ“±æŠ–éŸ³`select`[]DIRECT`[]ğŸ‡¨ğŸ‡³å¢™å†…`[]ğŸš€èµ·é£
custom_proxy_group=ğŸ›ï¸è´­ç‰©å¹³å°`select`[]DIRECT
custom_proxy_group=ğŸ’°é‡‘èç†è´¢`select`[]DIRECT
custom_proxy_group=ğŸ§­åœ°å›¾å‡ºè¡Œ`select`[]DIRECT
custom_proxy_group=ğŸ‡¨ğŸ‡³å›½å†…åº”ç”¨`select`[]DIRECT`[]ğŸš€èµ·é£
custom_proxy_group=ğŸš«å¹¿å‘Š`select`[]REJECT`[]DIRECT`[]ğŸš€èµ·é£
custom_proxy_group=ğŸ”éšç§ä¿æŠ¤`select`[]REJECT`[]ğŸš€èµ·é£`[]DIRECT
custom_proxy_group=ğŸ‡¨ğŸ‡³å¢™å†…`select`[]DIRECT`[]ğŸš€èµ·é£
custom_proxy_group=ğŸ æ¼ç½‘ä¹‹é±¼`select`[]ğŸš€èµ·é£`[]ğŸ‡¨ğŸ‡³å¢™å†…`[]DIRECT`[]ğŸ‘†ğŸ»æŒ‡å®š

# ========== åˆ†æµè§„åˆ™é…ç½® ==========
# åŸºç¡€å®‰å…¨å’Œéšç§è§„åˆ™ï¼ˆä¼˜å…ˆå¤„ç†ï¼‰
ruleset=DIRECT,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/private.txt
ruleset=ğŸš«å¹¿å‘Š,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
ruleset=ğŸš«å¹¿å‘Š,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingLite/AdvertisingLite.yaml
ruleset=ğŸš«å¹¿å‘Š,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.list
ruleset=ğŸ”éšç§ä¿æŠ¤,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list
ruleset=ğŸ”éšç§ä¿æŠ¤,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Privacy.list

# é‡‘èå’Œæ”¯ä»˜ï¼ˆé«˜ä¼˜å…ˆçº§åº”ç”¨ï¼‰
ruleset=ğŸ’°é‡‘èç†è´¢,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AliPay/AliPay.yaml
ruleset=ğŸ’°é‡‘èç†è´¢,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/WeChatPay/WeChatPay.yaml
ruleset=ğŸ’°é‡‘èç†è´¢,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/UnionPay/UnionPay.yaml

# ç¤¾äº¤èŠå¤©åº”ç”¨ï¼ˆé«˜é¢‘ä½¿ç”¨åº”ç”¨ï¼‰
ruleset=ğŸ“±å¾®ä¿¡èŠå¤©,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/WeChat/WeChat.yaml
ruleset=ğŸ“±å¾®ä¿¡èŠå¤©,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Weibo/Weibo.yaml

# å›½å†…è´­ç‰©å¹³å°
ruleset=ğŸ›ï¸è´­ç‰©å¹³å°,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/JingDong/JingDong.yaml
ruleset=ğŸ›ï¸è´­ç‰©å¹³å°,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/PinDuoDuo/PinDuoDuo.yaml
ruleset=ğŸ›ï¸è´­ç‰©å¹³å°,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Taobao/Taobao.yaml
ruleset=ğŸ›ï¸è´­ç‰©å¹³å°,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/XianYu/XianYu.yaml

# åœ°å›¾å’Œå‡ºè¡Œ
ruleset=ğŸ§­åœ°å›¾å‡ºè¡Œ,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GaoDe/GaoDe.yaml
ruleset=ğŸ§­åœ°å›¾å‡ºè¡Œ,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BaiduMap/BaiduMap.yaml

# æŠ–éŸ³ä¸“ç”¨åˆ†æµè§„åˆ™ - åˆ é™¤é‡å¤éƒ¨åˆ†
ruleset=ğŸ“±æŠ–éŸ³,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/DouYin/DouYin.yaml
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-SUFFIX,amemv.com
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-SUFFIX,douyincdn.com
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-SUFFIX,douyinpic.com
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-SUFFIX,douyinstatic.com
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-SUFFIX,douyinvod.com
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-SUFFIX,idouyinvod.com
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-SUFFIX,pipix.com
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-SUFFIX,snssdk.com
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-SUFFIX,toutiao.com
ruleset=ğŸ“±æŠ–éŸ³,DOMAIN-KEYWORD,douyin

# æ–—é±¼ä¸“ç”¨åˆ†æµè§„åˆ™
ruleset=ğŸ“±æ–—é±¼ç›´æ’­,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Douyu/Douyu.yaml
ruleset=ğŸ“±æ–—é±¼ç›´æ’­,DOMAIN-SUFFIX,douyu.tv
ruleset=ğŸ“±æ–—é±¼ç›´æ’­,DOMAIN-SUFFIX,douyu.com
ruleset=ğŸ“±æ–—é±¼ç›´æ’­,DOMAIN-SUFFIX,douyucdn.cn
ruleset=ğŸ“±æ–—é±¼ç›´æ’­,DOMAIN-SUFFIX,douyuscdn.com
ruleset=ğŸ“±æ–—é±¼ç›´æ’­,DOMAIN-KEYWORD,douyu

# è™ç‰™ä¸“ç”¨åˆ†æµè§„åˆ™
ruleset=ğŸ“±è™ç‰™ç›´æ’­,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/HuYa/HuYa.yaml
ruleset=ğŸ“±è™ç‰™ç›´æ’­,DOMAIN-SUFFIX,huya.com
ruleset=ğŸ“±è™ç‰™ç›´æ’­,DOMAIN-SUFFIX,huyaimg.com
ruleset=ğŸ“±è™ç‰™ç›´æ’­,DOMAIN-SUFFIX,huyaimg.msstatic.com
ruleset=ğŸ“±è™ç‰™ç›´æ’­,DOMAIN-SUFFIX,huyacdn.com
ruleset=ğŸ“±è™ç‰™ç›´æ’­,DOMAIN-KEYWORD,huya

# Bç«™ä¸“ç”¨åˆ†æµè§„åˆ™ - é’ˆå¯¹ä¸åŒåœ°åŒºå†…å®¹ä½¿ç”¨ä¸åŒç­–ç•¥
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml
# è¡¥å……Bç«™CDNåŸŸå
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,DOMAIN-SUFFIX,bilivideo.com
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,DOMAIN-SUFFIX,bilivideo.cn
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,DOMAIN-SUFFIX,biliapi.net
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,DOMAIN-SUFFIX,biliapi.com
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,DOMAIN-SUFFIX,acgvideo.com
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,DOMAIN-SUFFIX,hdslb.com
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,DOMAIN-SUFFIX,szbdyd.com
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,DOMAIN-SUFFIX,akamaized.net
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,DOMAIN-KEYWORD,bilibili
ruleset=ğŸ…±ï¸å“”å“©å“”å“©,IP-CIDR,203.107.1.0/24,no-resolve

# å›½å†…å¸¸ç”¨åº”ç”¨å’ŒæœåŠ¡
ruleset=ğŸ‡¨ğŸ‡³å›½å†…åº”ç”¨,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/DingTalk/DingTalk.yaml
ruleset=ğŸ‡¨ğŸ‡³å›½å†…åº”ç”¨,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Tencent/Tencent.yaml
ruleset=ğŸ‡¨ğŸ‡³å›½å†…åº”ç”¨,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Alibaba/Alibaba.yaml
ruleset=ğŸ‡¨ğŸ‡³å›½å†…åº”ç”¨,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ByteDance/ByteDance.yaml

# å›½é™…ç¤¾äº¤åª’ä½“
ruleset=ğŸ’¬ç¤¾äº¤åª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram_Resolve.yaml
ruleset=ğŸ’¬ç¤¾äº¤åª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml
ruleset=ğŸ’¬ç¤¾äº¤åª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Facebook/Facebook.yaml
ruleset=ğŸ’¬ç¤¾äº¤åª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Instagram/Instagram.yaml
ruleset=ğŸ’¬ç¤¾äº¤åª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Discord/Discord.yaml

# Googleå’ŒAIæœåŠ¡
ruleset=ğŸ”GoogleæœåŠ¡,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
ruleset=ğŸ”GoogleæœåŠ¡,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleDrive/GoogleDrive.yaml
ruleset=ğŸ¤–AI,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml
ruleset=ğŸ¤–AI,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Claude/Claude.yaml
ruleset=ğŸ¤–AI,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Gemini/Gemini.yaml
ruleset=ğŸ¤–AI,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Anthropic/Anthropic.yaml
ruleset=ğŸ¤–AI,https://raw.githubusercontent.com/juewuy/ShellClash/master/rules/ai.list

# æµåª’ä½“æœåŠ¡
ruleset=ğŸ“ºæµåª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
ruleset=ğŸ“ºæµåª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml
ruleset=ğŸ“ºæµåª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml

# åˆ†ç±»åª’ä½“ï¼ˆä¸­ç­‰ä¼˜å…ˆçº§è§„åˆ™ï¼‰
ruleset=ğŸ‡¨ğŸ‡³å›½å†…åº”ç”¨,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list
ruleset=ğŸ“ºæµåª’ä½“,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list

# åŸºç¡€åˆ†æµï¼ˆä½ä¼˜å…ˆçº§é€šç”¨è§„åˆ™ï¼‰
ruleset=ğŸ‡¨ğŸ‡³å¢™å†…,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/direct.txt
ruleset=ğŸš€èµ·é£,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt
ruleset=ğŸš€èµ·é£,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/greatfire.txt
ruleset=ğŸš€èµ·é£,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/proxy.txt
ruleset=ğŸš€èµ·é£,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/tld-not-cn.txt

# å…œåº•è§„åˆ™ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰
ruleset=ğŸ‡¨ğŸ‡³å¢™å†…,[]GEOIP,CN,no-resolve
ruleset=ğŸ æ¼ç½‘ä¹‹é±¼,[]FINAL

# ========== Mihomoæ ¸å¿ƒé…ç½® ==========
# åŸºç¡€è¿æ¥è®¾ç½®
mixed-port: 7890
allow-lan: true
bind-address: '*'
mode: rule
log-level: silent
ipv6: false
external-controller: 127.0.0.1:9090
profile:
  store-selected: true
  store-fake-ip: true

# ç§»åŠ¨ç½‘ç»œç”µæ± ä¼˜åŒ–
keep-alive-interval: 180        # é€‚ä¸­çš„ä¿æ´»é—´éš”
tcp-concurrent: 8               # ä¸ºç§»åŠ¨ç½‘ç»œä¼˜åŒ–çš„å¹¶å‘è¿æ¥æ•°
unified-delay: true             # ç»Ÿä¸€å»¶è¿Ÿæµ‹é‡æ›´å‡†ç¡®
find-process-mode: off          # ç¦ç”¨è¿›ç¨‹æŸ¥æ‰¾çœç”µ

# å—…æ¢é…ç½®ä¼˜åŒ–
sniffer:
  enable: true
  parse-pure-ip: true           # è§£æçº¯IPæé«˜è¿è¥å•†ç¯å¢ƒå‡†ç¡®æ€§
  override-destination: true
  sniff:
    TLS:
      ports: [443, 8443]
    HTTP:
      ports: [80, 8080]
      override-destination: true
  skip-domain:
    - '*.alipay.com'
    - '*.taobao.com'
    - '*.qq.com'
    - '*.weixin.qq.com'
    - '+.baidu.com'
    - '+.umeng.com'
    - '+.jpush.cn'
    - '+.gtimg.cn'
    - '+.qpic.cn'
    - '+.meituan.com'
    - '+.douyin.com'
    - '+.163.com'
    - '+.126.com'
    - '+.boc.cn'
    - '+.icbc.com.cn'
    - '+.ccb.com'
    - '+.abchina.com'
  force-domain:
    - '+.cmpassport.com'        # è¿è¥å•†è®¤è¯åŸŸå
    - '+.10086.cn'              # ä¸­å›½ç§»åŠ¨
    - '+.10010.com'             # ä¸­å›½è”é€š
    - '+.189.cn'                # ä¸­å›½ç”µä¿¡
  skip-cert-verify: true        # è¿è¥å•†ç½‘ç»œå¯èƒ½å­˜åœ¨SSLæ£€æŸ¥

# TUNæ¨¡å¼é’ˆå¯¹ç§»åŠ¨ç½‘ç»œçš„é…ç½®
tun:
  enable: true
  stack: gvisor                 # ç§»åŠ¨ç½‘ç»œä¸‹gvisoræ›´å¯é 
  dns-hijack:
    - 'any:53'
  # ç§»åŠ¨ç½‘ç»œä¼˜åŒ–
  auto-route: true
  auto-detect-interface: true
  mtu: 1350                     # æ›´é€‚åˆç§»åŠ¨ç½‘ç»œçš„MTUå€¼
  strict-route: true
  endpoint-independent-nat: true

# DNSé…ç½®é’ˆå¯¹è¿è¥å•†DNSåŠ«æŒä¼˜åŒ–
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  use-hosts: true

  # å¢å¼ºfake-ip-filterï¼Œé˜²æ­¢é‡è¦åŸŸåè¢«fake
  fake-ip-filter:
    - '*.lan'
    - 'stun.*.*'
    - '+.msftncsi.com'
    - '+.msftconnecttest.com'
    - '+.steamcontent.com'
    - '+.cmpassport.com'
    - '+.weixin.qq.com'
    - '+.pay.weixin.qq.com'
    - 'stun.l.google.com'
    - '+.qq.com'
    - '+.tencent.com'
    - '+.10010.com'
    - '+.10086.cn'
    - '+.189.cn'
    - '+.taobao.com'
    - '+.jd.com'
    - '+.alipay.com'
    - '+.alicdn.com'
    # Bç«™è§†é¢‘åŸŸååŠ å…¥fake-ip-filter
    - '+.bilivideo.com'
    - '+.bilivideo.cn'
    - '+.hdslb.com'
    - '+.acgvideo.com'
    # æŠ–éŸ³ã€æ–—é±¼å’Œè™ç‰™åŸŸååŠ å…¥fake-ip-filter
    - '+.amemv.com'
    - '+.douyincdn.com'
    - '+.douyinvod.com'
    - '+.douyinstatic.com'
    - '+.douyuscdn.com'
    - '+.douyucdn.cn'
    - '+.huyaimg.com'
    - '+.huyacdn.com'
    # é“¶è¡Œå’Œé‡‘èæœåŠ¡ä¿æŠ¤
    - '+.95516.com'      # é“¶è”
    - '+.bankcomm.com'   # äº¤é€šé“¶è¡Œ
    - '+.abchina.com'    # å†œä¸šé“¶è¡Œ
    - '+.ccb.com'        # å»ºè®¾é“¶è¡Œ
    - '+.icbc.com.cn'    # å·¥å•†é“¶è¡Œ
    - '+.cmbc.com.cn'    # æ°‘ç”Ÿé“¶è¡Œ
    - '+.cmbchina.com'   # æ‹›å•†é“¶è¡Œ
    - '+.boc.cn'         # ä¸­å›½é“¶è¡Œ
    - '+.psbc.com'       # é‚®æ”¿å‚¨è“„
    - '+.citicbank.com'  # ä¸­ä¿¡é“¶è¡Œ
    - '+.pingan.com'     # å¹³å®‰é“¶è¡Œ

  # é˜²åŠ«æŒåŸºç¡€DNS
  default-nameserver:
    - 223.5.5.5          # é˜¿é‡ŒDNS
    - 119.29.29.29       # è…¾è®¯DNS
    - 114.114.114.114    # 114DNS

  # å›½å†…åŸŸåDNSæœåŠ¡å™¨ - ç§»åŠ¨ç½‘ç»œå‹å¥½
  nameserver:
    - 'https://dns.alidns.com/dns-query'      # é˜¿é‡ŒåŠ å¯†DNS

  # å›½å¤–åŸŸåè§£æ - ç§»åŠ¨ç½‘ç»œä¼˜åŒ–
  fallback:
    - 'https://dns.google/dns-query'
    - 'https://cloudflare-dns.com/dns-query'

  # DNSåˆ†æµæ§åˆ¶
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
      - 127.0.0.0/8
    # å›½å¤–å¸¸ç”¨ç½‘ç«™åŸŸåï¼Œä½¿ç”¨å›½å¤–DNS
    domain:
      # è°·æ­Œå…¨å®¶æ¡¶
      - '+.google.com'
      - '+.googleapis.com'
      - '+.gmail.com'
      - '+.gstatic.com'
      - '+.youtube.com'
      - '+.ytimg.com'
      - '+.ggpht.com'
      # ç¤¾äº¤åª’ä½“
      - '+.twitter.com'
      - '+.twimg.com'
      - '+.t.co'
      - '+.facebook.com'
      - '+.fbcdn.net'
      - '+.instagram.com'
      - '+.cdninstagram.com'
      - '+.telegram.org'
      - '+.telegram.me'
      - '+.t.me'
      - '+.tdesktop.com'
      - '+.telesco.pe'
      # æµåª’ä½“
      - '+.netflix.com'
      - '+.nflximg.net'
      - '+.nflxvideo.net'
      - '+.nflxso.net'
      - '+.nflxext.com'
      - '+.spotify.com'
      - '+.spotifycdn.com'
      # å¼€å‘ç›¸å…³
      - '+.github.com'
      - '+.githubusercontent.com'
      - '+.githubassets.com'
      - '+.gitlab.com'
      # AIæœåŠ¡
      - '+.openai.com'
      - '+.oaistatic.com'
      - '+.oaiusercontent.com'
      - '+.anthropic.com'
      - '+.claude.ai'
      - '+.gemini.com'
      - '+.deepmind.com'
      - '+.vercel.ai'
      # å…¶ä»–å¸¸ç”¨å›½å¤–æœåŠ¡
      - '+.wikimedia.org'
      - '+.wikipedia.org'
      - '+.reddit.com'
      - '+.redd.it'
      - '+.redditstatic.com'
      - '+.redditmedia.com'
      - '+.dropbox.com'
      - '+.medium.com'
      - '+.quora.com'

  # åŸŸåè§£æç­–ç•¥ - å°†é‡è¦åŸŸåæŒ‡å‘åŠ å¯†DNS
  nameserver-policy:
    # é‡‘èæœåŠ¡ä½¿ç”¨åŠ å¯†å›½å†…DNSç¡®ä¿å®‰å…¨
    '+.alipay.com': 'https://dns.alidns.com/dns-query'
    '+.95516.com': 'https://dns.alidns.com/dns-query'
    '+.bank': 'https://dns.alidns.com/dns-query'
    '+.icbc.com.cn': 'https://dns.alidns.com/dns-query'
    '+.ccb.com': 'https://dns.alidns.com/dns-query'
    '+.boc.cn': 'https://dns.alidns.com/dns-query'
    # ç¤¾äº¤å’Œé€šè®¯æœåŠ¡
    '+.wechat.com': 'https://doh.pub/dns-query'
    '+.weixin.qq.com': 'https://doh.pub/dns-query'
    '+.qq.com': 'https://doh.pub/dns-query'
    # å±è”½å¹¿å‘ŠåŸŸå
    'geosite:category-ads-all': ['rcode://refused']

# ç§»åŠ¨ç½‘ç»œæµ‹è¯•ä¼˜åŒ–
url-test-interval: 900           # 15åˆ†é’Ÿæµ‹è¯•ä¸€æ¬¡ï¼Œå¹³è¡¡ç”µæ± å’Œæ€§èƒ½
test-timeout: 3                  # é€‚åˆç§»åŠ¨ç½‘ç»œçš„è¶…æ—¶æ—¶é—´
max-timeout: 3000                # é™ä½æœ€å¤§è¶…æ—¶æ—¶é—´é€‚åº”å¼±ç½‘
tolerance: 200                   # å¢åŠ å®¹å¿å€¼é€‚åº”ç§»åŠ¨ç½‘ç»œæ³¢åŠ¨
geodata-loader: memconservative  # å†…å­˜èŠ‚çº¦æ¨¡å¼

# ç§»åŠ¨ç½‘ç»œæ€§èƒ½ä¼˜åŒ–
tcp-fast-open: true                   # æå‡è¿æ¥é€Ÿåº¦
tcp-fast-fallback: true               # æå‡å¼±ç½‘ç¯å¢ƒä½“éªŒ
udp-priority: true                    # ä¼˜åŒ–ç§»åŠ¨ç½‘ç»œä¸‹è¯­éŸ³é€šè¯
sniff-tls-sni: true                   # æé«˜å—…æ¢å‡†ç¡®æ€§
connection-test-url: https://www.gstatic.com/generate_204
disable-udp-traffic: false
routing-mark: 6

# ç§»åŠ¨ç½‘ç»œå®‰å…¨ä¼˜åŒ–
firewall-mode: blacklist
force-cert-verify: true          # å¢å¼ºè¿æ¥å®‰å…¨æ€§

# ç§»åŠ¨è®¾å¤‡å†…å­˜å’Œç”µæ± ä¼˜åŒ–
connection-reuse: true           # å‡å°‘åˆ›å»ºè¿æ¥æ¬¡æ•°
transport-thread: 4              # é€‚åˆç§»åŠ¨è®¾å¤‡çš„çº¿ç¨‹æ•°
buffer-size: 16                  # é€‚åˆç§»åŠ¨è®¾å¤‡çš„ç¼“å†²åŒºå¤§å°
